/*!
 * ZinoUI v1.3 (http://zinoui.com)
 * Copyright 2012-2013 Dimitar Ivanov. All Rights Reserved.
 *
 * Zino UI commercial licenses may be obtained at http://zinoui.com/license
 * If you do not own a commercial license, this file shall be governed by the
 * GNU General Public License (GPL) version 3.
 * For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
 */
(function(f,m){function l(){this._defaults={maxWidth:null,maxHeight:null,minWidth:10,minHeight:10,resize:null,start:null,end:null};this._internal={direction:null,opts:null,listening:!1,resizing:!1,disposed:!1,x:0,y:0}}l.prototype={_attachResizable:function(c,e){if(this._getInst(c))return!1;var a=f(c),b=a.parent(),d=f(document),g=this._newInst(a);f.extend(g.settings,this._defaults,e);g.internal.opts={parentWidth:0<b.length?b.outerWidth():d.width(),parentHeight:0<b.length?b.outerHeight():d.height(),
parentTop:0<b.length?b.offset().top:0,parentLeft:0<b.length?b.offset().left:0};a.addClass("zui-resizable").bind("resizablestart",function(a,b){null!==g.settings.start&&g.settings.start.call(c,a,b)}).bind("resizableresize",function(a,b){null!==g.settings.resize&&g.settings.resize.call(c,a,b)}).bind("resizableend",function(a,b){null!==g.settings.end&&g.settings.end.call(c,a,b)});f("<div>").addClass("zui-resizable-handle zui-resizable-n").appendTo(a);f("<div>").addClass("zui-resizable-handle zui-resizable-s").appendTo(a);
f("<div>").addClass("zui-resizable-handle zui-resizable-e").appendTo(a);f("<div>").addClass("zui-resizable-handle zui-resizable-w").appendTo(a);f("<div>").addClass("zui-resizable-handle zui-resizable-ne").appendTo(a);f("<div>").addClass("zui-resizable-handle zui-resizable-nw").appendTo(a);f("<div>").addClass("zui-resizable-handle zui-resizable-se").appendTo(a);f("<div>").addClass("zui-resizable-handle zui-resizable-sw").appendTo(a);f.data(c,"resizable",g);this._startListening.call(this,c)},_resizeStart:function(c,
e){var a=this._getInst(c);if(!a)return!1;var b,d=f(e.target),g=this;if(!a.internal.resizing&&a.internal.listening&&!a.internal.disposed)return a.internal.resizing=!0,d.hasClass("zui-resizable-n")?b="n":d.hasClass("zui-resizable-e")?b="e":d.hasClass("zui-resizable-s")?b="s":d.hasClass("zui-resizable-w")?b="w":d.hasClass("zui-resizable-ne")?b="ne":d.hasClass("zui-resizable-nw")?b="nw":d.hasClass("zui-resizable-se")?b="se":d.hasClass("zui-resizable-sw")&&(b="sw"),a.internal.direction=b,f(c).trigger("resizablestart",
{}),f(document).bind("mousemove.resizable",function(a){g._resizeGo.call(g,c,a)}),f(document).bind("mouseup.resizable",function(a){g._resizeStopHook.call(g,c,a,this)}),f.data(c,"resizable",a),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},_resizeGo:function(c,e){var a=this._getInst(c);if(!a)return!1;var b=f(c);if(a.internal.resizing&&!a.internal.disposed){var d=zino.Position.getCursor(e),g=b.offset(),k=d.X-g.left,h=d.Y-g.top;switch(a.internal.direction){case "n":d=
b.height()-h;h=b.position().top+h;(!a.settings.maxHeight||d<a.settings.maxHeight)&&(d>a.settings.minHeight&&0<=h)&&(b.css("height",d+"px"),b.css("top",h+"px"));break;case "s":h-=b.outerHeight();d=b.height()+h;(!a.settings.maxHeight||d<a.settings.maxHeight)&&(d>a.settings.minHeight&&g.top+d<=a.internal.opts.parentHeight+a.internal.opts.parentTop)&&b.css("height",d+"px");break;case "e":k-=b.outerWidth();d=b.width()+k;(!a.settings.maxWidth||d<a.settings.maxWidth)&&(d>a.settings.minWidth&&g.left+d<=a.internal.opts.parentWidth+
a.internal.opts.parentLeft)&&b.css("width",d+"px");break;case "w":d=b.width()-k;g=b.position().left+k;(!a.settings.maxWidth||d<a.settings.maxWidth)&&(d>a.settings.minWidth&&0<=g)&&(b.css("left",g+"px"),b.css("width",d+"px"));break;case "ne":d=b.height()-h;h=b.position().top+h;(!a.settings.maxHeight||d<a.settings.maxHeight)&&(d>a.settings.minHeight&&0<=h)&&(b.css("height",d+"px"),b.css("top",h+"px"));k-=b.outerWidth();d=b.width()+k;(!a.settings.maxWidth||d<a.settings.maxWidth)&&(d>a.settings.minWidth&&
d<=a.internal.opts.parentWidth&&g.left+d<=a.internal.opts.parentWidth+a.internal.opts.parentLeft)&&b.css("width",d+"px");break;case "nw":d=b.height()-h;h=b.position().top+h;(!a.settings.maxHeight||d<a.settings.maxHeight)&&(d>a.settings.minHeight&&0<=h)&&(b.css("height",d+"px"),b.css("top",h+"px"));d=b.width()-k;g=b.position().left+k;(!a.settings.maxWidth||d<a.settings.maxWidth)&&(d>a.settings.minWidth&&0<=g)&&(b.css("width",d+"px"),b.css("left",g+"px"));break;case "se":h-=b.outerHeight();d=b.height()+
h;(!a.settings.maxHeight||d<a.settings.maxHeight)&&(d>a.settings.minHeight&&g.top+d<=a.internal.opts.parentHeight+a.internal.opts.parentTop)&&b.css("height",d+"px");k-=b.outerWidth();d=b.width()+k;(!a.settings.maxWidth||d<a.settings.maxWidth)&&(d>a.settings.minWidth&&g.left+d<=a.internal.opts.parentWidth+a.internal.opts.parentLeft)&&b.css("width",d+"px");break;case "sw":h-=b.outerHeight(),d=b.height()+h,(!a.settings.maxHeight||d<a.settings.maxHeight)&&(d>a.settings.minHeight&&g.top+d<=a.internal.opts.parentHeight+
a.internal.opts.parentTop)&&b.css("height",d+"px"),d=b.width()-k,g=b.position().left+k,(!a.settings.maxWidth||d<a.settings.maxWidth)&&(d>a.settings.minWidth&&0<=g)&&(b.css("width",d+"px"),b.css("left",g+"px"))}b.trigger("resizableresize",{});f.data(c,"resizable",a);e.stopPropagation&&e.stopPropagation();e.preventDefault&&e.preventDefault();return!1}},_resizeStopHook:function(c,e){if(!this._getInst(c))return!1;this._resizeStop.call(this,c,e);e.stopPropagation&&e.stopPropagation();e.preventDefault&&
e.preventDefault();return!1},_resizeStop:function(c,e){var a=this._getInst(c);if(!a)return!1;var b=this;a.internal.resizing&&!a.internal.disposed&&(f(document).unbind("mousemove.resizable",function(a){b._resizeGo.call(b,c,a)}),f(document).unbind("mouseup.resizable",function(a){b._resizeStopHook.call(b,c,a,this)}),f(c).trigger("resizableend",{}),a.internal.resizing=!1,f.data(c,"resizable",a))},_destroyResizable:function(c){var e=this._getInst(c);if(!e)return!1;e.internal.disposed||(f(c).removeClass("zui-resizable"),
f(".zui-resizable-handle",c).remove(),this._stopListening.call(this,c,!0),f.data(c,"resizable",null))},_disableResizable:function(c){var e=this._getInst(c);if(!e)return!1;e.isDisabled||(e.isDisabled=!0,this._stopListening.call(this,c,!0),f.data(c,"resizable",e))},_enableResizable:function(c){var e=this._getInst(c);if(!e)return!1;e.isDisabled&&(e.isDisabled=!1,this._startListening.call(this,c),f.data(c,"resizable",e))},_startListening:function(c){var e=this._getInst(c);if(!e)return!1;var a=this;e.internal.listening||
e.internal.disposed||(e.internal.listening=!0,f(".zui-resizable-handle",c).bind("mousedown.resizable",function(b){a._resizeStart.call(a,c,b,this)}),f.data(c,"resizable",e))},_stopListening:function(c,e){var a=this._getInst(c);if(!a)return!1;var b=this;a.internal.listening&&!a.internal.disposed&&(f(".zui-resizable-handle",c).unbind("mousedown.resizable",function(a){b._resizeStart.call(b,c,a,this)}),a.internal.listening=!1,e&&a.internal.resizing&&b._resizeStop.call(b,c),f.data(c,"resizable",a))},_isResizing:function(c){return(c=
this._getInst(c))?c.internal.resizing:!1},_isListening:function(c){return(c=this._getInst(c))?c.internal.listening:!1},_isDisposed:function(c){return(c=this._getInst(c))?c.internal.disposed:!1},_newInst:function(c){return{id:c[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:c,uid:Math.floor(99999999*Math.random()),isDisabled:!1,settings:{},internal:{}}},_getInst:function(c){try{return f.data(c,"resizable")}catch(e){throw"Missing instance data for this resizable";}}};f.fn.zinoResizable=function(c){var e=
Array.prototype.slice.call(arguments,1);return"string"==typeof c&&"isDisabled"==c||"option"==c&&2==arguments.length&&"string"==typeof arguments[1]?f.zinoResizable["_"+c+"Resizable"].apply(f.zinoResizable,[this[0]].concat(e)):this.each(function(){"string"==typeof c?f.zinoResizable["_"+c+"Resizable"].apply(f.zinoResizable,[this].concat(e)):f.zinoResizable._attachResizable(this,c)})};f.zinoResizable=new l;f.zinoResizable.version="1.3"})(jQuery);