/*!
 * ZinoUI v1.3 (http://zinoui.com)
 * Copyright 2012-2013 Dimitar Ivanov. All Rights Reserved.
 *
 * Zino UI commercial licenses may be obtained at http://zinoui.com/license
 * If you do not own a commercial license, this file shall be governed by the
 * GNU General Public License (GPL) version 3.
 * For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
 */
(function(d,n){function m(){this._defaults={autoPlay:!1,easing:"easeIn",focused:0,height:400,interval:2E3,orientation:"horizontal",speed:1E3,stopOnEnd:!1,width:600,start:null,end:null,first:null,last:null}}m.prototype={_attachSlideshow:function(c,a){if(this._getInst(c))return!1;var b=d(c),g,f,l,k,h=this,e=h._newInst(b);d.extend(e.settings,h._defaults,a);g=d("<div>").addClass("zui-slideshow-box").appendTo(b);b.bind("slideshowstart",function(a,b){null!==e.settings.start&&e.settings.start.call(c,a,b)}).bind("slideshowend",
function(a,b){null!==e.settings.end&&e.settings.end.call(c,a,b)}).bind("slideshowfirst",function(a,b){null!==e.settings.first&&e.settings.first.call(c,a,b)}).bind("slideshowlast",function(a,b){null!==e.settings.last&&e.settings.last.call(c,a,b)}).addClass("zui-slideshow").children(":not(.zui-slideshow-box)").addClass("zui-slideshow-item").appendTo(g);f=d("<div>").addClass("zui-slideshow-control");d("<a>",{href:"#"}).addClass("zui-slideshow-play").appendTo(f);d("<a>",{href:"#"}).addClass("zui-slideshow-stop").appendTo(f);
f.appendTo(b);l=d("<div>").addClass("zui-slideshow-nav");b.find(".zui-slideshow-item").each(function(){l.append(d("<a>",{href:"#"}))});l.appendTo(b);k=b.find(".zui-slideshow-nav a");d("<a>",{href:"#"}).addClass("zui-slideshow-arrow").addClass("horizontal"==e.settings.orientation?"zui-slideshow-prev":"zui-slideshow-up").appendTo(b);d("<a>",{href:"#"}).addClass("zui-slideshow-arrow").addClass("horizontal"==e.settings.orientation?"zui-slideshow-next":"zui-slideshow-down").appendTo(b);f={};0<e.settings.focused&&
(e.index=e.settings.focused);switch(e.settings.orientation){case "horizontal":f.height=e.settings.height;f.width=d(e.settings.selectorItem,g).length*e.settings.width;0<e.settings.focused&&(f.left=-e.settings.focused*e.settings.width);break;case "vertical":f.height=d(e.settings.selectorItem,g).length*e.settings.height,f.width=e.settings.width,0<e.settings.focused&&(f.top=-e.settings.focused*e.settings.height)}g.css(f);b.css({width:e.settings.width,height:e.settings.height});k.removeClass(e.settings.classNavFocus);
k.eq(e.index).addClass(e.settings.classNavFocus);k.bind("click.slideshow",function(a){a&&a.preventDefault&&a.preventDefault();h._gotoSlideshow(c,k.index(this));return!1});b.bind("mouseenter.slideshow",function(){d(e.settings.selectorArrow,b).show()}).bind("mouseleave.slideshow",function(){d(e.settings.selectorArrow,b).hide()}).on("click.slideshow",e.settings.selectorPrev,function(a){a&&a.preventDefault&&a.preventDefault();h._prevSlideshow(c);return!1}).on("click.slideshow",e.settings.selectorNext,
function(a){a&&a.preventDefault&&a.preventDefault();h._nextSlideshow(c);return!1}).on("click.slideshow",e.settings.selectorPlay,function(a){a&&a.preventDefault&&a.preventDefault();h._playSlideshow(c);return!1}).on("click.slideshow",e.settings.selectorStop,function(a){a&&a.preventDefault&&a.preventDefault();h._stopSlideshow(c);return!1});e.box=g;e.slides=b.find(".zui-slideshow-box .zui-slideshow-item");e.nav=k;d.data(c,"slideshow",e);e.settings.autoPlay&&h._playSlideshow(c)},_destroySlideshow:function(c){this._getInst(c)&&
(d(c).unbind(".slideshow").off(".slideshow").removeClass("zui-slideshow").find(".zui-slideshow-arrow").remove().end().find(".zui-slideshow-nav").remove().end().find(".zui-slideshow-control").remove().end().find(".zui-slideshow-item").unwrap().removeClass("zui-slideshow-item").end(),d.data(c,"slideshow",!1))},_playSlideshow:function(c){var a=this._getInst(c);if(a){var b=this;a.intervalID=window.setInterval(function(){b._nextSlideshow(c);a.settings.stopOnEnd&&0===a.index&&b._stopSlideshow(c)},a.settings.interval);
d.data(c,"slideshow",a)}},_stopSlideshow:function(c){var a=this._getInst(c);a&&(window.clearInterval(a.intervalID),d.data(c,"slideshow",a))},_animate:function(c,a,b){var g=d(c);g.trigger("slideshowstart",{index:b.index});a.box.animate(b.params,a.settings.speed,a.settings.easing,function(){g.trigger("slideshowend",{index:b.index});0===b.index&&g.trigger("slideshowfirst",{index:b.index});b.index===a.slides.length-1&&g.trigger("slideshowlast",{index:b.index})});a.index=b.index;a.nav.removeClass(a.settings.classNavFocus);
a.nav.eq(a.index).addClass(a.settings.classNavFocus);d.data(c,"slideshow",a)},_firstSlideshow:function(c){var a=this._getInst(c);if(a){var b={};switch(a.settings.orientation){case "horizontal":b.left="0px";break;case "vertical":b.top="0px"}this._animate(c,a,{params:b,index:0})}},_lastSlideshow:function(c){var a=this._getInst(c);if(a){var b={};switch(a.settings.orientation){case "horizontal":b.left="-"+(a.box.width()-a.settings.width)+"px";break;case "vertical":b.top="-"+(a.box.height()-a.settings.height)+
"px"}this._animate(c,a,{params:b,index:a.slides.length-1})}},_prevSlideshow:function(c){var a=this._getInst(c);if(a){var b=a.box.position(),d=!1;switch(a.settings.orientation){case "horizontal":d=0!=b.left&&0>-a.index*a.settings.width;break;case "vertical":d=0!=b.top&&0>-a.index*a.settings.height}if(d){b={};switch(a.settings.orientation){case "horizontal":b.left="+="+a.settings.width+"px";break;case "vertical":b.top="+="+a.settings.height+"px"}this._animate(c,a,{params:b,index:a.index-1})}else this._lastSlideshow(c)}},
_nextSlideshow:function(c){var a=this._getInst(c);if(a){var b=a.box.position(),d;d=!1;switch(a.settings.orientation){case "horizontal":d=a.box.width();d=-b.left!=d-a.settings.width&&(a.index+1)*a.settings.width<d;break;case "vertical":d=a.box.height(),d=-b.top!=d-a.settings.height&&(a.index+1)*a.settings.height<d}if(d){b={};switch(a.settings.orientation){case "horizontal":b.left="-="+a.settings.width+"px";break;case "vertical":b.top="-="+a.settings.height+"px"}this._animate(c,a,{params:b,index:a.index+
1})}else this._firstSlideshow(c)}},_gotoSlideshow:function(c,a){var b=this._getInst(c);if(b){var d={};switch(b.settings.orientation){case "horizontal":d.left="-"+a*b.settings.width+"px";break;case "vertical":d.top="-"+a*b.settings.height+"px"}this._animate(c,b,{params:d,index:a})}},_newInst:function(c){return{id:c[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),slides:c.find(".zui-slideshow-box .zui-slideshow-item"),nav:c.find(".zui-slideshow-nav a"),uid:Math.floor(99999999*Math.random()),index:0,intervalID:null,
settings:{classNavFocus:"zui-slideshow-nav-focus",selectorItem:".zui-slideshow-item",selectorArrow:".zui-slideshow-arrow",selectorPrev:".zui-slideshow-prev, .zui-slideshow-up",selectorNext:".zui-slideshow-next, .zui-slideshow-down",selectorPlay:".zui-slideshow-play",selectorStop:".zui-slideshow-stop"}}},_getInst:function(c){try{return d.data(c,"slideshow")}catch(a){throw"Missing instance data for this slideshow";}}};d.fn.zinoSlideshow=function(c){var a=Array.prototype.slice.call(arguments,1);return"string"==
typeof c&&"isDisabled"==c||"option"==c&&2==arguments.length&&"string"==typeof arguments[1]?d.zinoSlideshow["_"+c+"Slideshow"].apply(d.zinoSlideshow,[this[0]].concat(a)):this.each(function(){"string"==typeof c?d.zinoSlideshow["_"+c+"Slideshow"].apply(d.zinoSlideshow,[this].concat(a)):d.zinoSlideshow._attachSlideshow(this,c)})};d.zinoSlideshow=new m;d.zinoSlideshow.version="1.3"})(jQuery);