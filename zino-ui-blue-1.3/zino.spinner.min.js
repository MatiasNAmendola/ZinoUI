/*!
 * ZinoUI v1.3 (http://zinoui.com)
 * Copyright 2012-2013 Dimitar Ivanov. All Rights Reserved.
 *
 * Zino UI commercial licenses may be obtained at http://zinoui.com/license
 * If you do not own a commercial license, this file shall be governed by the
 * GNU General Public License (GPL) version 3.
 * For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
 */
(function(b,m){function k(){this._defaults={min:0,max:100,step:1,align:"right",disabled:!1,decimals:2,create:null,change:null}}k.prototype={_attachSpinner:function(c,a){if(this._getInst(c))return!1;var d,e,k,l,h=b(c),g=this,f=g._newInst(h);b.extend(f.settings,g._defaults,a);d=b("<span>").addClass("zui-spinner zui-spinner-holder").attr("aria-disabled",f.settings.disabled);e=b("<span>").addClass("zui-spinner-handle");k=b("<span>",{title:"Increase value",unselectable:"on",role:"button","aria-disabled":f.settings.disabled}).addClass("zui-spinner-up zui-unselectable").append("<span>").bind("click.spinner",
function(){g._increaseSpinner.call(g,c)}).bind("mouseenter.spinner",function(){b(this).addClass("zui-spinner-up-hover")}).bind("mouseleave.spinner",function(){b(this).removeClass("zui-spinner-up-hover")}).bind("mousedown.spinner",function(){b(this).addClass("zui-spinner-up-click")}).bind("mouseup.spinner",function(){b(this).removeClass("zui-spinner-up-click")}).appendTo(e);l=b("<span>",{title:"Decrease value",unselectable:"on",role:"button","aria-disabled":f.settings.disabled}).addClass("zui-spinner-down zui-unselectable").append("<span>").bind("click.spinner",
function(){g._decreaseSpinner.call(g,c)}).bind("mouseenter.spinner",function(){b(this).addClass("zui-spinner-down-hover")}).bind("mouseleave.spinner",function(){b(this).removeClass("zui-spinner-down-hover")}).bind("mousedown.spinner",function(){b(this).addClass("zui-spinner-down-click")}).bind("mouseup.spinner",function(){b(this).removeClass("zui-spinner-down-click")}).appendTo(e);h.attr({autocomplete:"off",role:"spinbutton","aria-invalid":"false","aria-valuemin":f.settings.min,"aria-valuemax":f.settings.max,
"aria-valuenow":0}).addClass("zui-spinner-input").bind("keydown.spinner",function(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(38===b)return g._increaseSpinner.call(g,c),!1;if(40===b)return g._decreaseSpinner.call(g,c),!1;if(!/^(4[8-9]|5[0-7]|110|190|8|3[5-9]|40|9[6-9]|10[0-5])$/.test(b)||/^(110|190)$/.test(b)&&-1!==a.target.value.indexOf("."))return!1}).bind("focusin.spinner",function(a){b(this).parent().addClass("zui-spinner-focus")}).bind("focusout.spinner",function(a){b(this).parent().removeClass("zui-spinner-focus");
g._valueSpinner.call(g,c,b(c).val())});f.settings.disabled&&(d.addClass("zui-spinner-disabled"),h.prop("disabled",!0),k.addClass("zui-spinner-disabled"),l.addClass("zui-spinner-disabled"));d.css("width",h.width()+25+"px");d.bind("spinnercreate",function(a,b){null!==f.settings.create&&f.settings.create.call(c,a,b)}).bind("spinnerchange",function(a,b){null!==f.settings.change&&f.settings.change.call(c,a,b)});h.after(d);d.append(h).append(e);f.holder=d.get(0);f.handle=e.get(0);b.data(c,"spinner",f);
0===h.val().length&&g._valueSpinner.call(g,c,f.settings.min);d.trigger("spinnercreate",{min:f.settings.min,max:f.settings.max,step:f.settings.step})},_decreaseSpinner:function(c){var a=this._getInst(c);if(!a||a.settings.disabled)return!1;var d=parseFloat(a.input.val()),e=d-a.settings.step;e>=a.settings.min&&(this._valueSpinner.call(this,c,e),b(a.holder).trigger("spinnerchange",{before:d,after:e,min:a.settings.min,max:a.settings.max,step:a.settings.step}))},_increaseSpinner:function(c){var a=this._getInst(c);
if(!a||a.settings.disabled)return!1;var d=parseFloat(a.input.val()),e=d+a.settings.step;e>a.settings.max&&(e=a.settings.max);this._valueSpinner.call(this,c,e);b(a.holder).trigger("spinnerchange",{before:d,after:e,min:a.settings.min,max:a.settings.max,step:a.settings.step})},_enableSpinner:function(c){var a=this._getInst(c);if(!a)return!1;b(c).prop("disabled",!1);b(a.holder).attr("aria-disabled","false").removeClass("zui-spinner-disabled");b(".zui-spinner-up, .zui-spinner-down",a.holder).attr("aria-disabled",
"false").removeClass("zui-spinner-disabled");a.settings.disabled=!1;b.data(c,"spinner",a)},_disableSpinner:function(c){var a=this._getInst(c);if(!a)return!1;b(c).prop("disabled",!0);b(a.holder).attr("aria-disabled","true").addClass("zui-spinner-disabled");b(".zui-spinner-up, .zui-spinner-down",a.holder).attr("aria-disabled","true").addClass("zui-spinner-disabled");a.settings.disabled=!0;b.data(c,"spinner",a)},_destroySpinner:function(c){var a=this._getInst(c);if(!a)return!1;var d=b(a.holder);b(a.handle);
a=b(c);a.insertAfter(d);d.remove();a.removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow").removeAttr("aria-invalid").removeAttr("aria-disabled").removeAttr("role").removeAttr("autocomplete").removeClass("zui-spinner-input").unbind(".spinner");b.data(c,"spinner",!1)},_valueSpinner:function(c,a){var d=this._getInst(c);if(!d)return!1;var e=parseFloat(a).toFixed(d.settings.decimals);d.input.val(e);d.input.attr("aria-valuenow",e);e<d.settings.min||e>d.settings.max?d.input.attr("aria-invalid",
"true"):d.input.attr("aria-invalid","false");b.data(c,"spinner",d)},_newInst:function(b){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:b,uid:Math.floor(99999999*Math.random()),isDisabled:!1,settings:{}}},_getInst:function(c){try{return b.data(c,"spinner")}catch(a){throw"Missing instance data for this spinner";}}};b.fn.zinoSpinner=function(c){var a=Array.prototype.slice.call(arguments,1);return"string"==typeof c&&"isDisabled"==c||"option"==c&&2==arguments.length&&"string"==typeof arguments[1]?
b.zinoSpinner["_"+c+"Spinner"].apply(b.zinoSpinner,[this[0]].concat(a)):this.each(function(){"string"==typeof c?b.zinoSpinner["_"+c+"Spinner"].apply(b.zinoSpinner,[this].concat(a)):b.zinoSpinner._attachSpinner(this,c)})};b.zinoSpinner=new k;b.zinoSpinner.version="1.3"})(jQuery);