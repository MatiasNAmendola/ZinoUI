/*!
 * ZinoUI v1.3 (http://zinoui.com)
 * Copyright 2012-2013 Dimitar Ivanov. All Rights Reserved.
 *
 * Zino UI commercial licenses may be obtained at http://zinoui.com/license
 * If you do not own a commercial license, this file shall be governed by the
 * GNU General Public License (GPL) version 3.
 * For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
 */
(function(b,m){function h(){this._defaults={control:"input",event:"click",buttons:{OK:function(a){b(this).zinoEditable("save")},Cancel:function(a){b(this).zinoEditable("close")}},load:null,save:null,close:null,enable:null,disable:null}}h.prototype={_attachEditable:function(a,c){if(this._getInst(a))return!1;var e,k,h,g=b(a),f=this,d=f._newInst(g);b.extend(d.settings,f._defaults,c);e=g.offset();e=b("<div>",{id:"zui-editable-"+d.uid}).hide().addClass("zui-editable-wrapper zui-unselectable").css({left:e.left+
"px",top:e.top+"px"}).bind("mousedown.editable",function(a){a.stopPropagation()}).bind("keydown.editable",function(b){switch(b.charCode?b.charCode:b.keyCode?b.keyCode:0){case 27:b.stopPropagation(),f._closeEditable.call(f,a)}});k=b("<"+d.settings.control+">",{autocomplete:"off"}).bind("keydown.editable",function(b){switch(b.charCode?b.charCode:b.keyCode?b.keyCode:0){case 13:f._saveEditable.call(f,a)}}).addClass("zui-editable-control").appendTo(e);switch(d.settings.control){case "input":k.css({width:g.width()+
10+"px"});break;case "textarea":k.css({height:g.height()+30+"px",width:g.width()+"px"})}for(var l in d.settings.buttons)d.settings.buttons.hasOwnProperty(l)&&(h=b("<input>",{type:"button"}).val(l).addClass("zui-editable-button").bind("click.editable",function(a,b){return function(c){d.settings.buttons[a].call(b,this)}}(l,a)).appendTo(e),b.fn.zinoButton!==m&&h.zinoButton());g.addClass("zui-editable").bind(d.settings.event+".editable",function(b){b.stopPropagation();f._loadEditable.call(f,a)}).bind("editableload",
function(b,c){null!==d.settings.load&&d.settings.load.call(a,b,c)}).bind("editablesave",function(b,c){null!==d.settings.save&&d.settings.save.call(a,b,c)}).bind("editableclose",function(b,c){null!==d.settings.close&&d.settings.close.call(a,b,c)}).bind("editableenable",function(b,c){null!==d.settings.enable&&d.settings.enable.call(a,b,c)}).bind("editabledisable",function(b,c){null!==d.settings.disable&&d.settings.disable.call(a,b,c)});e.appendTo(document.body);b(window).off(".editable").on("mousedown.editable",
document.body,function(a){b(a.target).hasClass("zui-editable-button")||(a.stopPropagation(),b(".zui-editable").zinoEditable("close"))});d.container=e;d.control=k;b.data(a,"editable",d)},_loadEditable:function(a){var c=this._getInst(a);if(!c)return!1;a=b(a);if(a.hasClass("zui-editable-disabled"))return!1;a.css("visibility","hidden");a.trigger("editableload",{});c.control.val(a.text());c.container.show();c.control.select()},_saveEditable:function(a){var c=this._getInst(a);if(!c)return!1;var e=b(a);
e.trigger("editablesave",{control:c.control});e.text(c.container.find(".zui-editable-control").val());this._closeEditable.call(this,a)},_closeEditable:function(a){var c=this._getInst(a);if(!c)return!1;a=b(a);a.trigger("editableclose",{});c.container.find(".zui-editable-control").val("").end().hide();a.css("visibility","visible")},_destroyEditable:function(a){var c=this._getInst(a);if(!c)return!1;var e=b(a);this._closeEditable.call(this,a);e.unbind(".editable").removeClass("zui-editable");c.container.remove();
b.removeData(a,"editable")},_enableEditable:function(a){if(!this._getInst(a))return!1;a=b(a);if(!a.hasClass("zui-editable-disabled"))return!1;a.removeClass("zui-editable-disabled").trigger("editableenable",{})},_disableEditable:function(a){if(!this._getInst(a))return!1;a=b(a);if(a.hasClass("zui-editable-disabled"))return!1;a.addClass("zui-editable-disabled").trigger("editabledisable",{})},_newInst:function(a){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,uid:Math.floor(99999999*
Math.random()),isDisabled:!1,settings:{}}},_getInst:function(a){try{return b.data(a,"editable")}catch(c){throw"Missing instance data for this editable";}}};b.fn.zinoEditable=function(a){var c=Array.prototype.slice.call(arguments,1);return"string"==typeof a&&"isDisabled"==a||"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?b.zinoEditable["_"+a+"Editable"].apply(b.zinoEditable,[this[0]].concat(c)):this.each(function(){"string"==typeof a?b.zinoEditable["_"+a+"Editable"].apply(b.zinoEditable,
[this].concat(c)):b.zinoEditable._attachEditable(this,a)})};b.zinoEditable=new h;b.zinoEditable.version="1.3"})(jQuery);