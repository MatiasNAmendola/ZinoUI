/*!
 * ZinoUI v1.3 (http://zinoui.com)
 * Copyright 2012-2013 Dimitar Ivanov. All Rights Reserved.
 *
 * Zino UI commercial licenses may be obtained at http://zinoui.com/license
 * If you do not own a commercial license, this file shall be governed by the
 * GNU General Public License (GPL) version 3.
 * For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
 */
(function(d,p){function m(){this._state=[];this._defaults={event:"click",disabled:[],selected:0,enable:null,disable:null,add:null,remove:null,show:null,load:null,select:null,create:null}}m.prototype={_attachTabs:function(a,f){if(this._getInst(a))return!1;var b=d(a),g=this,e=g._newInst(b);d.extend(e.settings,g._defaults,f);b.addClass("zui-tabs-holder").children().not("ul").addClass("zui-tabs-box").attr({role:"tabpanel","aria-hidden":"true"}).end().on("keydown.tabs",".zui-tabs-link",function(c){c.stopPropagation();
switch(c.charCode?c.charCode:c.keyCode?c.keyCode:0){case 37:case 38:c.preventDefault();var b=d(c.target).closest("ul").find(".zui-tabs-link"),e=b.length;c=b.index(c.target);g._selectTabs.call(g,a,0===c?e-1:c-1);break;case 39:case 40:c.preventDefault(),b=d(c.target).closest("ul").find(".zui-tabs-link"),e=b.length,c=b.index(c.target),c=c===e-1?0:c+1,g._selectTabs.call(g,a,c)}return!0});b.bind("tabsenable",function(c,b){null!==e.settings.enable&&e.settings.enable.call(a,c,b)}).bind("tabsdisable",function(c,
b){null!==e.settings.disable&&e.settings.disable.call(a,c,b)}).bind("tabsadd",function(c,b){null!==e.settings.add&&e.settings.add.call(a,c,b)}).bind("tabsremove",function(c,b){null!==e.settings.remove&&e.settings.remove.call(a,c,b)}).bind("tabsload",function(c,b){null!==e.settings.load&&e.settings.load.call(a,c,b)}).bind("tabsselect",function(b,d){null!==e.settings.select&&e.settings.select.call(a,b,d)}).bind("tabscreate",function(b,d){null!==e.settings.create&&e.settings.create.call(a,b,d)});var h=
b.find("ul").eq(0);if(0<h.length){h.attr("role","tablist").addClass("zui-tabs-header").find("li").attr({role:"tab","aria-controls":"","aria-selected":"false",tabindex:"-1"}).addClass("zui-tabs-link").eq(e.settings.selected).addClass("zui-tabs-focus");var n,l=1;h.find("a").each(function(a,g){var f=d(g),h=f.attr("href"),k=["zui-tabs-",e.uid,"-",a].join("");f.attr({role:"presentation",tabindex:"-1",id:k});f.closest("li").attr("aria-labelledby",k);a==e.settings.selected&&f.closest("li").attr({tabindex:"0",
"aria-selected":"true"});0!==h.indexOf("#")?(n=h,h="#zui-tabs-"+l,f.data("href",n).attr("href",h),d("<div>",{id:h.slice(1),role:"tabpanel","aria-labelledby":k}).addClass("zui-tabs-box").appendTo(b),l+=1):b.children(".zui-tabs-box").filter(h).attr("aria-labelledby",k);f.closest("li").attr("aria-controls",h.slice(1))});b.find(".zui-tabs-box").hide().attr({"aria-hidden":"true","aria-expanded":"false"});h.on("click.tabs","a",function(c){c&&c.preventDefault&&c.preventDefault();c=d("li",b).index(d(this).parent().get(0));
g._selectTabs.call(g,a,c);return!1});d.data(a,"tabs",e);b.trigger("tabscreate",{});0===h.find("a").eq(e.settings.selected).attr("href").indexOf("#")&&g._selectTabs.call(g,a,e.settings.selected)}d.data(a,"tabs",e)},_destroyTabs:function(a){if(!this._getInst(a))return!1;d(a).unbind("tabsenable").unbind("tabsdisable").unbind("tabsadd").unbind("tabsremove").unbind("tabsshow").unbind("tabsload").unbind("tabsselect").unbind("tabscreate").removeClass("zui-tabs-holder").find(".zui-tabs-header").removeClass("zui-tabs-header").children("li").removeClass("zui-tabs-link").removeClass("zui-tabs-focus").end().end().children("div").removeClass("zui-tabs-box").show();
d.data(a,"tabs",!1)},_enableTabs:function(a,f){if(!this._getInst(a))return!1;var b=d(a),g=b.find(".zui-tabs-header").eq(0).children("li").eq(f);g.removeClass("zui-tabs-disabled");b.trigger("tabsenable",{index:f,tab:g})},_disableTabs:function(a,f){if(!this._getInst(a))return!1;var b=d(a),g=b.find(".zui-tabs-header").eq(0).children("li").eq(f);g.addClass("zui-tabs-disabled");b.trigger("tabsdisable",{index:f,tab:g})},_addTabs:function(a){if(!this._getInst(a))return!1;d(a).trigger("tabsads",{})},_removeTabs:function(a,
f){if(!this._getInst(a))return!1;var b=d(a),g=b.find(".zui-tabs-header").eq(0);b.find(".zui-tabs-header").eq(0).children("li").eq(f).remove().end().end().end().end().find(".zui-tabs-box").eq(f).remove().trigger("tabsremove",{index:f});0===g.children(".zui-tabs-focus").length&&this._selectTabs.call(this,a,0)},_selectTabs:function(a,f){if(!this._getInst(a))return!1;var b,g,e=d(a);b=e.find(".zui-tabs-header").find("a").eq(f);var h=b.attr("href");if(b.parent().hasClass("zui-tabs-disabled"))return!1;b.parent().addClass("zui-tabs-focus").attr({tabindex:"0",
"aria-selected":"true"}).focus().siblings("li").attr({tabindex:"-1","aria-selected":"false"}).removeClass("zui-tabs-focus");0===h.indexOf("#")&&(g=d(h),g.siblings("div:visible").hide().end().show(),b=b.data("href"),b!==p&&g.load(b,function(a){g.html(a.replace(/\n/g,"<br>"));e.trigger("tabsload",{index:f})}));e.find(".zui-tabs-box").attr({"aria-hidden":"true","aria-expanded":"false"}).hide().eq(f).attr({"aria-hidden":"false","aria-expanded":"true"}).show();e.trigger("tabsselect",{index:f})},_newInst:function(a){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,
"\\\\$1"),input:a,uid:Math.floor(99999999*Math.random()),isOpen:!1,isDisabled:!1,settings:{}}},_getInst:function(a){try{return d.data(a,"tabs")}catch(f){throw"Missing instance data for this tab";}}};d.fn.zinoTabs=function(a){var f=Array.prototype.slice.call(arguments,1);return"string"==typeof a&&"isDisabled"==a||"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?d.zinoTabs["_"+a+"Tabs"].apply(d.zinoTabs,[this[0]].concat(f)):this.each(function(){"string"==typeof a?d.zinoTabs["_"+a+"Tabs"].apply(d.zinoTabs,
[this].concat(f)):d.zinoTabs._attachTabs(this,a)})};d.zinoTabs=new m;d.zinoTabs.version="1.3"})(jQuery);